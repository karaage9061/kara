<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPIË®ÄË™û„ÇØ„Ç§„Ç∫ - ÁÜüË™û„ÉªË™ûÂè•ÂØæÁ≠ñ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
            background: #ffffff;
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .quiz-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin: 20px 0;
            border: 1px solid #e2e8f0;
        }

        h1 {
            text-align: center;
            color: #4a5568;
            margin-bottom: 30px;
            font-size: 2rem;
        }

        .home-screen {
            text-align: center;
        }

        .subtitle {
            color: #666;
            margin-bottom: 40px;
            font-size: 1.1rem;
        }

        .question-count-selector {
            margin: 30px 0;
        }

        .count-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .count-btn {
            background: #4299e1;
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .count-btn:hover {
            background: #3182ce;
            transform: translateY(-2px);
        }

        .count-btn.selected {
            background: #2b6cb0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .custom-input {
            display: flex;
            gap: 10px;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
        }

        .custom-input input {
            padding: 10px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            width: 80px;
            text-align: center;
        }

        .start-btn {
            background: #48bb78;
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 12px;
            font-size: 1.2rem;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s ease;
        }

        .start-btn:hover {
            background: #38a169;
            transform: translateY(-2px);
        }

        .start-btn:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            transform: none;
        }

        .quiz-screen {
            display: none;
        }

        .progress-bar {
            background: #e2e8f0;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            background: #4299e1;
            height: 100%;
            transition: width 0.3s ease;
        }

        .question-counter {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .question-text {
            font-size: 1.3rem;
            margin-bottom: 30px;
            line-height: 1.6;
            color: #2d3748;
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .choice-btn {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            padding: 15px 20px;
            border-radius: 12px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }

        .choice-btn:hover {
            background: #edf2f7;
            border-color: #cbd5e0;
        }

        .choice-btn.correct {
            background: #c6f6d5;
            border-color: #68d391;
            color: #22543d;
        }

        .choice-btn.incorrect {
            background: #fed7d7;
            border-color: #fc8181;
            color: #742a2a;
        }

        .choice-btn.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .result-display {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .result-display.correct {
            background: #c6f6d5;
            color: #22543d;
        }

        .result-display.incorrect {
            background: #fed7d7;
            color: #742a2a;
        }

        .explanation {
            background: #f0f8ff;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border-left: 4px solid #4299e1;
        }

        .explanation h3 {
            color: #2b6cb0;
            margin-bottom: 10px;
        }

        .next-btn {
            background: #4299e1;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 20px;
            font-size: 1rem;
        }

        .result-screen {
            display: none;
            text-align: center;
        }

        .score-display {
            background: #f8f9fa;
            color: #333;
            border: 2px solid #e9ecef;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .score-number {
            font-size: 3rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .action-btn {
            background: #4299e1;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
        }

        .action-btn.retry {
            background: #ed8936;
        }

        .action-btn.home {
            background: #48bb78;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 600px) {
            .container {
                padding: 15px;
            }
            
            .quiz-card {
                padding: 20px;
                border-radius: 15px;
            }
            
            h1 {
                font-size: 1.6rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .count-options {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- „Éõ„Éº„É†ÁîªÈù¢ -->
        <div id="home-screen" class="quiz-card home-screen">
            <h1>üìö SPIË®ÄË™û„ÇØ„Ç§„Ç∫</h1>
            <p class="subtitle">ÁÜüË™û„ÉªË™ûÂè•ÂØæÁ≠ñÔºàÂÖ®50ÂïèÂèéÈå≤Ôºâ</p>
            
            <div class="question-count-selector">
                <h3>ÂïèÈ°åÊï∞„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</h3>
                <div class="count-options">
                    <button class="count-btn" data-count="10">10Âïè</button>
                    <button class="count-btn" data-count="20">20Âïè</button>
                    <button class="count-btn" data-count="30">30Âïè</button>
                    <button class="count-btn" data-count="50">50Âïè</button>
                </div>
                
                <div class="custom-input">
                    <span>„Ç´„Çπ„Çø„É†:</span>
                    <input type="number" id="custom-count" min="1" max="50" placeholder="ÂïèÈ°åÊï∞">
                    <button class="count-btn" id="custom-btn">Ë®≠ÂÆö</button>
                </div>
            </div>
            
            <button id="start-btn" class="start-btn" disabled>
                „ÇØ„Ç§„Ç∫„ÇíÈñãÂßã„Åô„Çã
            </button>
        </div>

        <!-- „ÇØ„Ç§„Ç∫ÁîªÈù¢ -->
        <div id="quiz-screen" class="quiz-card quiz-screen">
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
            </div>
            
            <div id="question-counter" class="question-counter"></div>
            
            <div id="question-text" class="question-text"></div>
            
            <div id="choices" class="choices"></div>
            
            <div id="result-display" class="result-display hidden"></div>
            
            <div id="explanation" class="explanation hidden"></div>
            
            <button id="next-btn" class="next-btn hidden">
                Ê¨°„ÅÆÂïèÈ°å„Å∏
            </button>
        </div>

        <!-- ÁµêÊûúÁîªÈù¢ -->
        <div id="result-screen" class="quiz-card result-screen">
            <h1>üéâ „ÇØ„Ç§„Ç∫ÂÆå‰∫ÜÔºÅ</h1>
            
            <div class="score-display">
                <div>Ê≠£Ëß£Êï∞</div>
                <div id="score-number" class="score-number"></div>
                <div id="score-percentage"></div>
            </div>
            
            <div class="action-buttons">
                <button class="action-btn home" id="home-btn">
                    „Éõ„Éº„É†„Å´Êàª„Çã
                </button>
                <button id="retry-btn" class="action-btn retry">
                    ÈñìÈÅï„Åà„ÅüÂïèÈ°å„ÇíÂæ©Áøí
                </button>
            </div>
        </div>
    </div>

    <script>
        // ÂïèÈ°å„Éá„Éº„Çø
        const quizData = [
            {
                question: "Ëá™Áî±ÂãùÊâã„Å´„ÅØ„Å≠„Åæ„Çè„Çã„Åì„Å®",
                choices: ["È£õÁøî", "Ë∑≥Ë∫ç", "Ë∫çÂãï", "Ë∑≥Ê¢Å", "Ë∫çÂ¶Ç"],
                correct: 3,
                explanation: "Ë∑≥Ê¢Å: ÊÇ™ËÄÖ„Å™„Å©„ÅåÂã¢„ÅÑ„Çà„Åè„ÄÅ„ÅÆ„Åï„Å∞„ÇäÂõû„Çã„Åì„Å®"
            },
            {
                question: "Ëá™ÂàÜ„ÅÆ‰ø°„Åö„Çã„Å®„Åì„Çç„ÇíÈÅ†ÊÖÆ„Åõ„Åö„Å´„ÅÑ„ÅÜ„Åì„Å®",
                choices: ["Áõ¥Ë®Ä", "ÈÄ≤Ë®Ä", "Âø†Ë®Ä", "ÊîæË®Ä", "Êñ≠Ë®Ä"],
                correct: 0,
                explanation: "Áõ¥Ë®Ä: ÊÄù„ÅÜ„Å®„Åì„Çç„ÇíÈÅ†ÊÖÆ„Å™„Åè„ÄÅÁéáÁõ¥„Å´Ë®Ä„ÅÜ„Åì„Å®"
            },
            {
                question: "„Åç„Çè„Å†„Å£„Å¶‰ªñ„Çà„ÇäÂÑ™„Çå„Å¶„ÅÑ„Çã„Åì„Å®",
                choices: ["ÈöîÁµ∂", "Âá∫Ëâ≤", "ÂÑ™Ë∂ä", "Á†¥Ê†º", "Á≠ÜÈ†≠"],
                correct: 1,
                explanation: "Âá∫Ëâ≤: ‰ªñ„Çà„Çä„ÇÇÈöõÁ´ã„Å£„Å¶ÂÑ™„Çå„Å¶„ÅÑ„Çã„Åì„Å®"
            },
            {
                question: "Ë°∞„Åà„Åü„ÇäÊ†Ñ„Åà„Åü„Çä„Åô„Çã„Åì„Å®",
                choices: ["Ê∂àÈï∑", "ÈÄ≤ÈÄÄ", "Êñ≠Á∂ö", "Â§âÈÅ∑", "ÊµÅËª¢"],
                correct: 0,
                explanation: "Ê∂àÈï∑: Âã¢„ÅÑ„ÅåË°∞„Åà„Åü„ÇäÁõõ„Çì„Å´„Å™„Å£„Åü„Çä„Åô„Çã„Åì„Å®"
            },
            {
                question: "‰ª•Ââç„Åã„Çâ„ÅÆÈ°ò„ÅÑ",
                choices: ["ÂàáÈ°ò", "ÂÆøÈ°ò", "ÊááÈ°ò", "ÊÇ≤È°ò", "ÂøµÈ°ò"],
                correct: 1,
                explanation: "ÂÆøÈ°ò: ‰ª•Ââç„Åã„ÇâÊä±„ÅÑ„Å¶„ÅÑ„ÇãÈ°ò„ÅÑ"
            },
            {
                question: "ÂçëËøë„ÅÆÊÑèÂë≥„Å®„Åó„Å¶Ê≠£„Åó„ÅÑ„ÇÇ„ÅÆ„ÅØ",
                choices: ["Ë∫´Ëøë„Å™", "Âçë„Åó„ÅÑ", "‰Ωé‰øó„Å™", "‰ΩéÁ¥ö„Å™", "ÂΩì‰ªä„ÅÆ"],
                correct: 0,
                explanation: "ÂçëËøë: Ë∫´Ëøë„ÅßÂπ≥Âá°„Å™„Åì„Å®"
            },
            {
                question: "‰ªñ‰∫∫„ÇíÂ®ÅÂöá„Åô„Çã„Çà„ÅÜ„Å™ÊÖãÂ∫¶",
                choices: ["Ê®™ÊüÑ", "Â∞äÂ§ß", "Â±Ö‰∏àÈ´ò", "ÈâÑ‰ªÆÈù¢", "Â®ÅÈ¢®Â†Ç„ÄÖ"],
                correct: 2,
                explanation: "Â±Ö‰∏àÈ´ò: Â®ÅÂúßÁöÑ„ÅßÈ´òÂúßÁöÑ„Å™ÊÖãÂ∫¶"
            },
            {
                question: "ÊÄù„Çè„ÅöÁ¨ë„ÅÜ„Åì„Å®",
                choices: ["Ëã¶Á¨ë", "ÂìÑÁ¨ë", "‰∏ÄÁ¨ë", "Â§±Á¨ë", "Âò≤Á¨ë"],
                correct: 3,
                explanation: "Â§±Á¨ë: ÊÄù„Çè„ÅöÂêπ„ÅçÂá∫„Åó„Å¶Á¨ë„ÅÜ„Åì„Å®"
            },
            {
                question: "Áâ©„Åå„ÇÜ„Çâ„ÇÜ„Çâ„ÇÜ„Çå„Çã",
                choices: ["„Å™„Å≥„Åè", "„Å∂„Çå„Çã", "„Åµ„Çã„Åà„Çã", "„Åü„ÇÜ„Åü„ÅÜ", "„ÅØ„Åü„ÇÅ„Åè"],
                correct: 3,
                explanation: "„Åü„ÇÜ„Åü„ÅÜ: „ÇÜ„Çâ„ÇÜ„Çâ„Å®ÊºÇ„ÅÜ„Åì„Å®"
            },
            {
                question: "ÁµåÈ®ì„ÇíÁ©ç„Çì„Åß‰∫∫ÊüÑ„Å™„Å©„ÅåÂÜÜÁÜü„Åô„Çã„Åì„Å®",
                choices: ["ËÄÅÁ∑¥", "Êô©Êàê", "ÊàêÁÜü", "ËÄÅÊàê", "Â§ßÊàê"],
                correct: 3,
                explanation: "ËÄÅÊàê: ÁµåÈ®ì„ÇíÁ©ç„Çì„Åß‰∫∫Ê†º„ÅåÂÜÜÁÜü„Åô„Çã„Åì„Å®"
            },
            {
                question: "‰∫å„Å§„ÅÆ‰∫ãÊüÑ„Åå„Å¥„Å£„Åü„Çä„Å®‰∏ÄËá¥„Åô„Çã„Åì„Å®",
                choices: ["Á¨¶Âè∑", "ÂêàÂêå", "ÈÅ©Âêà", "Âêà‰∏Ä", "ÁÖßÂêà"],
                correct: 0,
                explanation: "Á¨¶Âè∑: ‰∫å„Å§„ÅÆ‰∫ãÊüÑ„Åå„Å¥„Å£„Åü„Çä„Å®‰∏ÄËá¥„Åô„Çã„Åì„Å®"
            },
            {
                question: "„ÇÇ„ÅÆ„Åî„Å®„ÅÆË©≥„Åó„ÅÑ‰∫ãÊÉÖ",
                choices: ["Â≠êÁ¥∞", "ÊòéÁ¥∞", "Á≤æÁ¥∞", "Á¥∞ÈÉ®", "Á¥∞‰∫ã"],
                correct: 0,
                explanation: "Â≠êÁ¥∞: „ÇÇ„ÅÆ„Åî„Å®„ÅÆË©≥„Åó„ÅÑ‰∫ãÊÉÖ"
            },
            {
                question: "‰Ωï„ÇÇ„Åó„Å™„ÅÑ„ÅßÂÇçË¶≥„Åó„Å¶„ÅÑ„Çã",
                choices: ["ËÖ∞„Çí„Åô„Åà„Çã", "Âè£„Çí„Å¨„Åê„ÅÜ", "ÁõÆ„Çí„Å§„Å∂„Çã", "Ë∂≥„Çí„Å®„ÇÅ„Çã", "Êâã„Çí„Åì„Åæ„Å≠„Åè"],
                correct: 4,
                explanation: "Êâã„Çí„Åì„Åæ„Å≠„Åè: ‰Ωï„ÇÇ„Åó„Å™„ÅÑ„ÅßÂÇçË¶≥„Åô„Çã„Åì„Å®"
            },
            {
                question: "Áõ¥Êé•„ÅØË®ÄËëâ„Å´Ë°®„Åï„Å™„ÅÑ„Å®„Åì„Çç",
                choices: ["Êú¨ÂøÉ", "ÁÑ°Ë®Ä", "‰ªñÊÑè", "‰ΩôÂøµ", "Ë®ÄÂ§ñ"],
                correct: 4,
                explanation: "Ë®ÄÂ§ñ: Ë®ÄËëâ„Å´„ÅØÁõ¥Êé•Ë°®„Çå„Å¶„ÅÑ„Å™„ÅÑÊÑèÂë≥"
            },
            {
                question: "„ÇÑ„ÇäÊñπ„Å™„Å©„ÇíÂèó„ÅëÁ∂ô„Åé„ÄÅ„Åó„Åü„Åå„ÅÜ„Åì„Å®",
                choices: ["Âõ†Áøí", "ÊÖ£‰æã", "‰ºùÊâø", "Ë∏èË•≤", "‰ºùÁµ±"],
                correct: 3,
                explanation: "Ë∏èË•≤: Ââç‰æã„Å´Âæì„ÅÜ„Åì„Å®"
            },
            {
                question: "„Å©„ÅÜ„Å´„ÇÇ„Å™„Çâ„Å™„ÅÑ„Åì„Å®„ÇíÊÆãÂøµ„Åå„Çã",
                choices: ["Ê∞ó„Å´ÁóÖ„ÇÄ", "„Åª„Åû„Çí„Åã„ÇÄ", "ËÉ∏„ÇíÁóõ„ÇÅ„Çã", "ËÖï„Çí„Åì„Åæ„Å≠„Åè", "„Åì„ÅÜ„Åπ„Çí„Åü„Çå„Çã"],
                correct: 1,
                explanation: "„Åª„Åû„Çí„Åã„ÇÄ: ÂæåÊÇî„Åô„Çã„Åì„Å®"
            },
            {
                question: "ÂøÉ„Åå„Åç„Åü„Å™„Åè„ÄÅ„ÅÑ„ÇÑ„Åó„ÅÑ",
                choices: ["„Åå„ÇÅ„Å§„ÅÑ", "„Åï„ÇÇ„Åó„ÅÑ", "„ÅÇ„Åè„Å©„ÅÑ", "„ÅØ„Åó„Åü„Å™„ÅÑ", "ÊÑèÂú∞„Åç„Åü„Å™„ÅÑ"],
                correct: 1,
                explanation: "„Åï„ÇÇ„Åó„ÅÑ: ÂøÉ„Åå„Åç„Åü„Å™„Åè„ÄÅ„ÅÑ„ÇÑ„Åó„ÅÑ"
            },
            {
                question: "‰∏çË°å„ÅçÂ±ä„Åç„Åß„Åë„Åó„Åã„Çâ„Å¨„Åì„Å®",
                choices: ["‰∏çÂÄ´", "‰∏çÁæ©", "‰∏çÂüí", "‰∏çÂÆü", "‰∏çÂæ≥"],
                correct: 2,
                explanation: "‰∏çÂüí: ÈÅìÁêÜ„Å´Â§ñ„Çå„Å¶„ÅÑ„Çã„Åì„Å®"
            },
            {
                question: "ÂΩì„ÇíÂæó„Åü„Åì„Å®„Å∞",
                choices: ["ÈáëË®Ä", "Â∑ßË®Ä", "Ëá≥Ë®Ä", "ÂêçË®Ä", "Ê†ºË®Ä"],
                correct: 2,
                explanation: "Ëá≥Ë®Ä: ÂΩì„ÇíÂæó„ÅüË®ÄËëâ"
            },
            {
                question: "Ë®ÄËëâ„ÇíÂä†„Åà„Åü„ÇäË®Ä„ÅÑ„Åã„Åà„Åü„Çä„Åó„Å¶ÂàÜ„Åã„Çä„ÇÑ„Åô„ÅèË™¨Êòé„Åô„Çã„Åì„Å®",
                choices: ["ÂïìÁô∫", "Âñß‰ºù", "Á§∫ÂîÜ", "ÊåáÂçó", "Êï∑Ë°ç"],
                correct: 4,
                explanation: "Êï∑Ë°ç: Ë©≥„Åó„ÅèË™¨Êòé„Åô„Çã„Åì„Å®"
            },
            {
                question: "‰∏¶Â§ñ„Çå„Å¶Á®ãÂ∫¶„ÇíË∂Ö„Åà„Çã„Åì„Å®",
                choices: ["Â∏å‰ª£", "Ëé´Â§ß", "Áµ∂Â§ß", "Â•áÊäú", "Ê≥ïÂ§ñ"],
                correct: 4,
                explanation: "Ê≥ïÂ§ñ: Â∏∏Ë≠ò„ÇíË∂Ö„Åà„Å¶„ÅÑ„Çã„Åì„Å®"
            },
            {
                question: "„Åó„Åã„Åü„Åå„Å™„ÅÑ„Å®ÊÄù„Å£„Å¶Âèó„Åë„Çã",
                choices: ["„Åü„Åà„Çã", "„ÅÇ„Åæ„Çì„Åö„Çã", "„Å∏„Çä„Åè„Å†„Çã", "„ÇÇ„Å¶„ÅÇ„Åæ„Åô", "„Å≤„Çâ„Åç„Å™„Åä„Çã"],
                correct: 1,
                explanation: "„ÅÇ„Åæ„Çì„Åö„Çã: ‰ªïÊñπ„Å™„ÅèÂèó„ÅëÂÖ•„Çå„Çã„Åì„Å®"
            },
            {
                question: "Áâ©‰∫ã„ÅåÈÄ≤Ë°å„Åó„Å¶„Åä„ÇÇ„Åó„Çç„Åè„Å™„Å£„Åü„Å®„Åì„Çç",
                choices: ["È†ÇÁÇπ", "‰Ω≥Â¢É", "Ë¶ÅÊâÄ", "ÈÜçÈÜêÂë≥", "Ê≠£ÂøµÂ†¥"],
                correct: 1,
                explanation: "‰Ω≥Â¢É: ÊúÄ„ÇÇÈù¢ÁôΩ„ÅÑÂ†¥Èù¢"
            },
            {
                question: "ÂïèÈ°å„Å®„Åï„Çå„Å™„Åå„Çâ„Åæ„Å†Ëß£Ê±∫„Åå„Å§„Åã„Å™„ÅÑ‰∫ãÊüÑ",
                choices: ["‰øùÁïô", "Êá∏Ê°à", "Êú™Ê±∫", "Èõ£Âïè", "Ê£ö‰∏ä„Åí"],
                correct: 1,
                explanation: "Êá∏Ê°à: Êú™Ëß£Ê±∫„ÅÆÂïèÈ°å"
            },
            {
                question: "Ë©≠ÂºÅ„ÅÆÊÑèÂë≥„Å®„Åó„Å¶Ê≠£„Åó„ÅÑ„ÇÇ„ÅÆ„ÅØ",
                choices: ["„Åä„Å©„Åó", "„Åì„Åò„Å§„Åë", "„ÅÑ„ÅÑ„Çè„Åë", "„Åæ„Åë„Åä„Åó„Åø", "„ÅÑ„ÅÑ„ÅÆ„Åå„Çå"],
                correct: 1,
                explanation: "Ë©≠ÂºÅ: ‰∏ÄË¶ãÊ≠£„Åó„Åù„ÅÜ„Å´Ë¶ã„Åà„ÇãÂÅΩ„Çä„ÅÆË´ñÁêÜ"
            },
            {
                question: "ÂøÉ„Çí„ÅÑ„Åü„ÇÅ„Å™„ÇÑ„Åæ„Åô„Åì„Å®",
                choices: ["ËÖêÂøÉ", "ÁñëÂøÉ", "ÈÄÜÂøÉ", "ËôöÂøÉ", "Âü∑ÂøÉ"],
                correct: 0,
                explanation: "ËÖêÂøÉ: ÂøÉ„ÇíÊÇ©„Åæ„Åô„Åì„Å®"
            },
            {
                question: "„Åü„ÇÅ„Çâ„Çè„Åö„Å´ÊÄù„ÅÑÂàá„Å£„Å¶„Åô„Çã„Åï„Åæ",
                choices: ["ÊûúÊñ≠", "ÊÑöÁõ¥", "Áü≠ÊÖÆ", "ÁÑ°Ë¨Ä", "ÂãáÊï¢"],
                correct: 0,
                explanation: "ÊûúÊñ≠: ÊÄù„ÅÑÂàá„Çä„Åå„Çà„ÅÑ„Åì„Å®"
            },
            {
                question: "„Å≠„Çâ„ÅÑ„ÇíÂÆö„ÇÅ„Çã„Åì„Å®",
                choices: ["ÁõÆÊòü", "ÁõÆÊ®ô", "Ê®ôÁöÑ", "Ë¶ãÂΩì", "ÁÖßÊ∫ñ"],
                correct: 4,
                explanation: "ÁÖßÊ∫ñ: Áãô„ÅÑ„ÇíÂÆö„ÇÅ„Çã„Åì„Å®"
            },
            {
                question: "„Åä„Åó„ÅØ„Åã„Çã„Åì„Å®„ÄÅÊÄù„ÅÑ„ÇÑ„Çã„Åì„Å®",
                choices: ["Êé®ËÄÉ", "È°ûÊé®", "Êé®Ë´ñ", "Êé®ÂØü", "Êé®ÂÆö"],
                correct: 3,
                explanation: "Êé®ÂØü: Êé®„ÅóÈáè„Çã„Åì„Å®"
            },
            {
                question: "Â∑ß„Åø„Åß„Å™„ÅÑ„Åì„Å®",
                choices: ["„Å§„Åü„Å™„ÅÑ", "„Åé„Åì„Å°„Å™„ÅÑ", "„Åü„Çè„ÅÑ„Å™„ÅÑ", "„Åµ„Åå„ÅÑ„Å™„ÅÑ", "„Åä„Åº„Å§„Åã„Å™„ÅÑ"],
                correct: 0,
                explanation: "„Å§„Åü„Å™„ÅÑ: Â∑ß„Åø„Åß„Å™„ÅÑ„Åì„Å®"
            },
            {
                question: "‰ªñ„ÅÆÊÑèË¶ã„Å´ÂèçÂØæ„Åó„Å¶Ë´ñ„ÅòËøî„Åô„Åì„Å®",
                choices: ["Âè£Ë´ñ", "ÂèçÁô∫", "ÂèçÈßÅ", "Ë´ñ‰∫â", "Ë´ñÁ†¥"],
                correct: 2,
                explanation: "ÂèçÈßÅ: ÂèçË´ñ„Åô„Çã„Åì„Å®"
            },
            {
                question: "„Åù„ÅÆ„Åì„Å®„Å†„Åë„Å´„Åã„Åã„Çè„Å£„Å¶„ÄÅ‰ªñ„Çí„Åä„Çç„Åù„Åã„Å´„Åô„Çã",
                choices: ["„Å≤„Åü„Çã", "„Åã„Åæ„Åë„Çã", "„ÅÑ„Åù„Åó„ÇÄ", "„Åã„Åã„Çä„Åç„Çã", "„Å™„Åä„Åñ„Çä„Å´„Åô„Çã"],
                correct: 1,
                explanation: "„Åã„Åæ„Åë„Çã: ÁÜ±‰∏≠„Åó„Å¶‰ªñ„ÇíÊÄ†„Çã„Åì„Å®"
            },
            {
                question: "‰ªñ‰∫∫„ÅÆÊ®©Âà©„ÇíÂÇ∑„Å§„Åë„Åü„Çä„ÄÅÁ§æ‰ºöÁß©Â∫è„Çí‰π±„Åó„Åü„Çä„Åô„Çã",
                choices: ["Â®ÅÂúß„Åô„Çã", "ÊÑöÂºÑ„Åô„Çã", "ËπÇË∫ô„Åô„Çã", "Â∏≠Â∑ª„Åô„Çã", "Á±†Áµ°„Åô„Çã"],
                correct: 2,
                explanation: "ËπÇË∫ô: Ë∏è„Åø„Å´„Åò„Çã„Åì„Å®"
            },
            {
                question: "Â¢ÉÈÅá„Å´Ê∫ÄË∂≥„Åó„Å¶„ÅÑ„Çã„Åï„Åæ„ÇíË®ÄÂãï„Å´Ë°®„Åô„Åì„Å®",
                choices: ["Ëá≥Á¶è", "ÈóäÈÅî", "Ê∫ÄÂñ´", "Ë¨≥Ê≠å", "ÊúâÈ†ÇÂ§©"],
                correct: 3,
                explanation: "Ë¨≥Ê≠å: Â£∞È´ò„Çâ„Åã„Å´Ê≠å„ÅÜ„Çà„ÅÜ„Å´Ë°®Áèæ„Åô„Çã„Åì„Å®"
            },
            {
                question: "‰Ωï„ÇÇ„Åõ„Åö„Å∂„Çâ„Å∂„Çâ„Åó„Å¶„ÅÑ„Çã„Åì„Å®",
                choices: ["ÂÆâÁ©è", "ÊÄ†ÊÉ∞", "ÁÑ°Á≤æ", "ÁÑ°ÁÇ∫", "ÊÇ†Èï∑"],
                correct: 3,
                explanation: "ÁÑ°ÁÇ∫: ‰Ωï„ÇÇ„Åó„Å™„ÅÑ„Åì„Å®"
            },
            {
                question: "Á´ãÊ¥æ„Å´Ë¶ã„Åõ„Çà„ÅÜ„Å®„Åó„Å¶„ÅÜ„Çè„Åπ„ÇíÈ£æ„Çã„Åì„Å®",
                choices: ["Ë£ÖÈ£æ", "Á≤âÈ£æ", "ÂΩ©È£æ", "Ë¶ãÊ†Ñ", "‰∏äÂ°ó„Çä"],
                correct: 1,
                explanation: "Á≤âÈ£æ: Ë°®Èù¢„ÇíÁæé„Åó„ÅèÈ£æ„Çã„Åì„Å®"
            },
            {
                question: "Â•Ω„Åæ„Åó„Åè„Å™„ÅÑ„Å®„Åó„Å¶Êãí„ÅøÈÄÄ„Åë„Çã„Åì„Å®",
                choices: ["ÊÑèÊ∞ó", "ÈÇ™Èô∫", "Êï¨ÈÅ†", "ÁñéÂ§ñ", "ÊéíÊñ•"],
                correct: 4,
                explanation: "ÊéíÊñ•: Êäº„Åó„ÅÆ„Åë„Å¶ÈÄÄ„Åë„Çã„Åì„Å®"
            },
            {
                question: "‰∏ÄÊôÇ„Åó„ÅÆ„Åé„Å´„Å®„Çä„Å§„Åè„Çç„Å£„Å¶„Åä„Åè„Åì„Å®",
                choices: ["ËôöÂã¢", "Ë¶ãÊ†Ñ", "Á≥äÂ°ó", "ËôöÈ£æ", "‰∏äÂ°ó„Çä"],
                correct: 2,
                explanation: "Á≥äÂ°ó: ‰∏ÄÊôÇÁöÑ„Å´„Åî„Åæ„Åã„Åô„Åì„Å®"
            },
            {
                question: "ÂÄã‰∫∫„ÅÆÂà§Êñ≠„ÅßÂá¶ÁêÜ„Åô„Çã„Åì„Å®",
                choices: ["Â∞ÇÊ®™", "ÁßÅË¶ã", "Ë£ÅÈáè", "Áã¨Êñ≠", "Ëã±Êñ≠"],
                correct: 2,
                explanation: "Ë£ÅÈáè: Ëá™ÂàÜ„ÅÆÂà§Êñ≠„ÅßÂá¶ÁêÜ„Åô„Çã„Åì„Å®"
            },
            {
                question: "„ÅÇ„Çè„Å¶„Åö„ÇÜ„Å£„Åè„Çä„Å®‰∫ã„ÇíÂßã„ÇÅ„Çã„Åï„Åæ",
                choices: ["„Çà„ÅÜ„ÇÑ„Åè", "„Åä„ÅÑ„Åä„ÅÑ„Å´", "„Åä„Å£„Å®„Çä„Å®", "„Åä„ÇÇ„ÇÄ„Çç„Å´", "„Åò„Å£„Åè„Çä„Å®"],
                correct: 3,
                explanation: "„Åä„ÇÇ„ÇÄ„Çç„Å´: „ÇÜ„Å£„Åè„Çä„Å®Âãï‰Ωú„ÇíÂßã„ÇÅ„Çã„Åï„Åæ"
            },
            {
                question: "„Å™„Çä„Åµ„Çä„Åã„Åæ„Çè„ÅöÊá∏ÂëΩ„Å´‰∫ã„Å´„ÅÇ„Åü„Å£„Å¶„ÅÑ„ÇãÊßòÂ≠ê",
                choices: ["„Åë„Å™„Åí", "„Å≤„Åü„ÇÄ„Åç", "„ÇÑ„Åø„Åè„ÇÇ", "„Åä„Åä„Çè„Çâ„Çè", "„Å¶„Çì„Å¶„Åì„Åæ„ÅÑ"],
                correct: 3,
                explanation: "„Åä„Åä„Çè„Çâ„Çè: Â§ßÈ®í„Åé„Çí„Åô„Çã„Åï„Åæ"
            },
            {
                question: "„ÅÇ„ÅÑ„Åæ„ÅÑ„Å™ÊâÄ„Åå„Å™„ÅÑ„Çà„ÅÜ„Å´Á¥∞„Åã„ÅèÊ∞ó„ÇíÈÖç„Å£„Å¶‰∏ÅÂøµ„Å™„Åì„Å®",
                choices: ["ÂÖãÊòé", "Âë®Âà∞", "Á≤æÂ∑ß", "ÁπäÁ¥∞", "Á∑ªÂØÜ"],
                correct: 0,
                explanation: "ÂÖãÊòé: Ë©≥„Åó„ÅèÊòé„Çâ„Åã„Å™„Åì„Å®"
            },
            {
                question: "‰∫∫„ÇíÂ®ÅÂúß„Åô„Çã„Çà„ÅÜ„Å™ÊÖãÂ∫¶",
                choices: ["Ê®™ÊüÑ", "Â∞äÂ§ß", "Â±Ö‰∏àÈ´ò", "ÈâÑÈù¢ÁöÆ", "Â®ÅÈ¢®Â†Ç„ÄÖ"],
                correct: 2,
                explanation: "Â±Ö‰∏àÈ´ò: Â®ÅÂúßÁöÑ„ÅßÈ´òÂúßÁöÑ„Å™ÊÖãÂ∫¶"
            },
            {
                question: "ÊÆäÂãù„Å™ÂøÉ„Åå„Åë„ÅÆÊåÅ„Å°‰∏ª„Å†",
                choices: ["ÂÅ•Ê∞ó„Å™", "ÂèØÊÜê„Å™", "ÂÑ™ÈõÖ„Å™", "Âà©Âè£„Å™", "Â†ÖÂÆü„Å™"],
                correct: 0,
                explanation: "ÂÅ•Ê∞ó: „Åë„Å™„Åí„Å™„ÄÅÁ´ãÊ¥æ„Å™ÂøÉ„Åå„Åë„ÅÆ"
            },
            {
                question: "„Çè„Åå„Åæ„Åæ„ÅßÂ•Ω„ÅçÂãùÊâã„Å´ÊåØ„ÇãËàû„ÅÜ„Åì„Å®",
                choices: ["ÂéöÈ°î", "ÂÇ≤ÊÖ¢", "Â∞ÇÊ®™", "Áã¨Êñ≠", "‰∏çÈÅú"],
                correct: 2,
                explanation: "Â∞ÇÊ®™: „Çè„Åå„Åæ„ÅæÂãùÊâã„Å´ÊåØ„ÇãËàû„ÅÜ„Åì„Å®"
            },
            {
                question: "Á¥∞„Åã„Åè‰∏πÂøµ„Å™Ë®òÈå≤",
                choices: ["ÂÖãÊòé„Å™", "Âë®Âà∞„Å™", "Á≤æÂØÜ„Å™", "ÁπäÁ¥∞„Å™", "ËÇùË¶Å„Å™"],
                correct: 0,
                explanation: "ÂÖãÊòé: Ë©≥„Åó„ÅèÊòé„Çâ„Åã„Å™„Åì„Å®"
            },
            {
                question: "„Å§„Å§„Åø„Åã„Åè„Åï„Å™„ÅÑ„Åï„Åæ",
                choices: ["Èú≤Âëà", "Êö¥Èú≤", "„ÅÇ„Åë„Åô„Åë", "„ÅÇ„ÅãÊäú„Åë", "„Å§„Å§Êäú„Åë"],
                correct: 2,
                explanation: "„ÅÇ„Åë„Åô„Åë: ÂåÖ„ÅøÈö†„Åï„Åö„ÄÅÁéáÁõ¥„Å™„Åï„Åæ"
            },
            {
                question: "„ÅÇ„ÇãÂ≠¶Âïè„ÉªÊäÄË°ì„Å´„Å§„ÅÑ„Å¶Â∫É„ÅèÊ∑±„ÅÑÁü•Ë≠ò„Å®ÁêÜËß£„ÇíÊåÅ„Å£„Å¶„ÅÑ„Çã„Åì„Å®",
                choices: ["Ëã±Áü•", "Â••Áæ©", "ÈÄ†Ë©£", "Âê´ËìÑ", "È´òÂ∞ö"],
                correct: 2,
                explanation: "ÈÄ†Ë©£: Â≠¶Âïè„ÉªÊäÄËä∏„Å´Ê∑±„ÅèÈÄö„Åò„Å¶„ÅÑ„Çã„Åì„Å®"
            },
            {
                question: "„Åù„ÅÜ„Åô„Çã„Çà„Çä„Åª„Åã„Å´„Å™„ÅÑ",
                choices: ["Áî≥„ÅóÂàÜ„Å™„ÅÑ", "„Åª„Åã„Å™„Çâ„Å™„ÅÑ", "„Åï„Åó„Åï„Çè„Çä„Å™„ÅÑ", "„Çà„Çì„Å©„Åì„Çç„Å™„ÅÑ", "Êäú„ÅçÂ∑Æ„Åó„Å™„Çâ„Å™„ÅÑ"],
                correct: 3,
                explanation: "„Çà„Çì„Å©„Åì„Çç„Å™„ÅÑ: „ÇÑ„ÇÄ„ÇíÂæó„Å™„ÅÑ„ÄÅ‰ªïÊñπ„Åå„Å™„ÅÑ"
            },
            {
                question: "‰ª≤„ÅåÊÇ™„Åè„Å´„Çâ„ÅøÂêà„ÅÜ„Åì„Å®",
                choices: ["ÊïµË¶ñ", "ÊïµÂØæ", "ÂèçÊäó", "ÂèçÁõÆ", "ËÉåÂèç"],
                correct: 3,
                explanation: "ÂèçÁõÆ: ‰ª≤„ÅåÊÇ™„Åè„Å´„Çâ„ÅøÂêà„ÅÜ„Åì„Å®"
            }
        ];

        // „Ç¢„Éó„É™„ÅÆÁä∂ÊÖã
        let selectedQuestionCount = 0;
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let incorrectQuestions = [];
        let userAnswers = [];

        // DOMË¶ÅÁ¥†„ÅÆÂèñÂæó
        const countBtns = document.querySelectorAll('.count-btn[data-count]');
        const customCountInput = document.getElementById('custom-count');
        const customBtn = document.getElementById('custom-btn');
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const homeBtn = document.getElementById('home-btn');
        const retryBtn = document.getElementById('retry-btn');

        // „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÅÆË®≠ÂÆö
        function setupEventListeners() {
            // ÂïèÈ°åÊï∞ÈÅ∏Êäû„Éú„Çø„É≥
            countBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const count = parseInt(btn.dataset.count);
                    selectCount(count);
                });
            });

            // „Ç´„Çπ„Çø„É†ÂïèÈ°åÊï∞Ë®≠ÂÆö
            customBtn.addEventListener('click', selectCustomCount);
            customCountInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    selectCustomCount();
                }
            });

            // „ÇØ„Ç§„Ç∫ÈñãÂßã
            startBtn.addEventListener('click', startQuiz);

            // Ê¨°„ÅÆÂïèÈ°å„Å∏
            nextBtn.addEventListener('click', nextQuestion);

            // „Éõ„Éº„É†„Å´Êàª„Çã
            homeBtn.addEventListener('click', goHome);

            // Âæ©Áøí
            retryBtn.addEventListener('click', retryIncorrect);
        }

        // ÂïèÈ°åÊï∞ÈÅ∏Êäû
        function selectCount(count) {
            selectedQuestionCount = count;
            customCountInput.value = '';
            
            // „Éú„Çø„É≥„ÅÆÈÅ∏ÊäûÁä∂ÊÖã„ÇíÊõ¥Êñ∞
            countBtns.forEach(btn => btn.classList.remove('selected'));
            const selectedBtn = document.querySelector(`[data-count="${count}"]`);
            if (selectedBtn) selectedBtn.classList.add('selected');
            
            updateStartButton();
        }

        function selectCustomCount() {
            const count = parseInt(customCountInput.value);
            if (count >= 1 && count <= 50) {
                selectedQuestionCount = count;
                
                // „Éú„Çø„É≥„ÅÆÈÅ∏ÊäûÁä∂ÊÖã„Çí„É™„Çª„ÉÉ„Éà
                countBtns.forEach(btn => btn.classList.remove('selected'));
                
                updateStartButton();
            } else {
                alert('1„Åã„Çâ50„ÅÆÈñì„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
            }
        }

        function updateStartButton() {
            if (selectedQuestionCount > 0) {
                startBtn.disabled = false;
                startBtn.textContent = `${selectedQuestionCount}Âïè„Åß„Çπ„Çø„Éº„Éà`;
            } else {
                startBtn.disabled = true;
                startBtn.textContent = '„ÇØ„Ç§„Ç∫„ÇíÈñãÂßã„Åô„Çã';
            }
        }

        // „ÇØ„Ç§„Ç∫ÈñãÂßã
        function startQuiz() {
            if (selectedQuestionCount === 0) return;

            // ÂïèÈ°å„Çí„É©„É≥„ÉÄ„É†„Å´ÈÅ∏Êäû
            const shuffled = [...quizData].sort(() => 0.5 - Math.random());
            currentQuestions = shuffled.slice(0, Math.min(selectedQuestionCount, quizData.length));
            
            // Áä∂ÊÖã„É™„Çª„ÉÉ„Éà
            currentQuestionIndex = 0;
            correctAnswers = 0;
            incorrectQuestions = [];
            userAnswers = [];

            // ÁîªÈù¢Âàá„ÇäÊõø„Åà
            document.getElementById('home-screen').style.display = 'none';
            document.getElementById('quiz-screen').style.display = 'block';
            document.getElementById('result-screen').style.display = 'none';

            showQuestion();
        }

        // ÂïèÈ°åË°®Á§∫
        function showQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            
            // „Éó„É≠„Ç∞„É¨„Çπ„Éê„ÉºÊõ¥Êñ∞
            const progress = ((currentQuestionIndex) / currentQuestions.length) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
            
            // ÂïèÈ°åÁï™Âè∑Ë°®Á§∫
            document.getElementById('question-counter').textContent = 
                `ÂïèÈ°å ${currentQuestionIndex + 1} / ${currentQuestions.length}`;
            
            // ÂïèÈ°åÊñáË°®Á§∫
            document.getElementById('question-text').textContent = question.question;
            
            // ÈÅ∏ÊäûËÇ¢Ë°®Á§∫
            const choicesContainer = document.getElementById('choices');
            choicesContainer.innerHTML = '';
            
            question.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'choice-btn';
                button.textContent = `${String.fromCharCode(65 + index)}. ${choice}`;
                button.addEventListener('click', () => selectAnswer(index));
                choicesContainer.appendChild(button);
            });
            
            // ÁµêÊûúË°®Á§∫„Çí„É™„Çª„ÉÉ„Éà
            document.getElementById('result-display').className = 'result-display hidden';
            document.getElementById('explanation').className = 'explanation hidden';
            document.getElementById('next-btn').className = 'next-btn hidden';
        }

        // ÂõûÁ≠îÈÅ∏Êäû
        function selectAnswer(selectedIndex) {
            const question = currentQuestions[currentQuestionIndex];
            const choices = document.querySelectorAll('.choice-btn');
            const resultDisplay = document.getElementById('result-display');
            const explanation = document.getElementById('explanation');
            const nextBtn = document.getElementById('next-btn');
            
            // „Åô„Åπ„Å¶„ÅÆÈÅ∏ÊäûËÇ¢„ÇíÁÑ°ÂäπÂåñ
            choices.forEach(btn => {
                btn.classList.add('disabled');
                btn.style.pointerEvents = 'none';
            });
            
            // Ê≠£Ëß£„ÅÆÈÅ∏ÊäûËÇ¢„Çí„Éè„Ç§„É©„Ç§„Éà
            choices[question.correct].classList.add('correct');
            
            // ÈÅ∏Êäû„Åï„Çå„ÅüÂõûÁ≠î„ÅÆÂá¶ÁêÜ
            if (selectedIndex === question.correct) {
                // Ê≠£Ëß£„ÅÆÂ†¥Âêà
                correctAnswers++;
                resultDisplay.textContent = '‚úÖ Ê≠£Ëß£ÔºÅ';
                resultDisplay.className = 'result-display correct';
            } else {
                // ‰∏çÊ≠£Ëß£„ÅÆÂ†¥Âêà
                choices[selectedIndex].classList.add('incorrect');
                resultDisplay.textContent = '‚ùå ‰∏çÊ≠£Ëß£';
                resultDisplay.className = 'result-display incorrect';
                incorrectQuestions.push({
                    ...question,
                    userAnswer: selectedIndex
                });
            }
            
            // ÂõûÁ≠î„ÇíË®òÈå≤
            userAnswers.push({
                questionIndex: currentQuestionIndex,
                userAnswer: selectedIndex,
                correct: selectedIndex === question.correct
            });
            
            // Ëß£Ë™¨Ë°®Á§∫
            explanation.innerHTML = `
                <h3>üìñ Ëß£Ë™¨</h3>
                <p><strong>${question.choices[question.correct]}</strong>: ${question.explanation}</p>
            `;
            explanation.className = 'explanation';
            
            // Ê¨°„Å∏„Éú„Çø„É≥Ë°®Á§∫
            if (currentQuestionIndex < currentQuestions.length - 1) {
                nextBtn.textContent = 'Ê¨°„ÅÆÂïèÈ°å„Å∏';
            } else {
                nextBtn.textContent = 'ÁµêÊûú„ÇíË¶ã„Çã';
            }
            nextBtn.className = 'next-btn';
        }

        // Ê¨°„ÅÆÂïèÈ°å„Å∏
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < currentQuestions.length) {
                showQuestion();
            } else {
                showResults();
            }
        }

        // ÁµêÊûúË°®Á§∫
        function showResults() {
            const scorePercentage = Math.round((correctAnswers / currentQuestions.length) * 100);
            
            // ÁîªÈù¢Âàá„ÇäÊõø„Åà
            document.getElementById('quiz-screen').style.display = 'none';
            document.getElementById('result-screen').style.display = 'block';
            
            // „Çπ„Ç≥„Ç¢Ë°®Á§∫
            document.getElementById('score-number').textContent = 
                `${correctAnswers} / ${currentQuestions.length}`;
            document.getElementById('score-percentage').textContent = 
                `Ê≠£Ëß£Áéá: ${scorePercentage}%`;
            
            // Âæ©Áøí„Éú„Çø„É≥„ÅÆË°®Á§∫Âà∂Âæ°
            if (incorrectQuestions.length > 0) {
                retryBtn.style.display = 'block';
                retryBtn.textContent = `ÈñìÈÅï„Åà„ÅüÂïèÈ°å„ÇíÂæ©Áøí (${incorrectQuestions.length}Âïè)`;
            } else {
                retryBtn.style.display = 'none';
            }
        }

        // „Éõ„Éº„É†„Å´Êàª„Çã
        function goHome() {
            document.getElementById('home-screen').style.display = 'block';
            document.getElementById('quiz-screen').style.display = 'none';
            document.getElementById('result-screen').style.display = 'none';
            
            // Áä∂ÊÖã„É™„Çª„ÉÉ„Éà
            selectedQuestionCount = 0;
            countBtns.forEach(btn => btn.classList.remove('selected'));
            customCountInput.value = '';
            updateStartButton();
        }

        // ÈñìÈÅï„Åà„ÅüÂïèÈ°å„ÇíÂæ©Áøí
        function retryIncorrect() {
            if (incorrectQuestions.length === 0) return;
            
            // ÈñìÈÅï„Åà„ÅüÂïèÈ°å„Åß„ÇØ„Ç§„Ç∫„ÇíÂÜçÈñã
            currentQuestions = [...incorrectQuestions];
            selectedQuestionCount = currentQuestions.length;
            
            // Áä∂ÊÖã„É™„Çª„ÉÉ„Éà
            currentQuestionIndex = 0;
            correctAnswers = 0;
            incorrectQuestions = [];
            userAnswers = [];
            
            // „ÇØ„Ç§„Ç∫ÁîªÈù¢„Å´Âàá„ÇäÊõø„Åà
            document.getElementById('result-screen').style.display = 'none';
            document.getElementById('quiz-screen').style.display = 'block';
            
            showQuestion();
        }

        // ÂàùÊúüÂåñ
        document.addEventListener('DOMContentLoaded', () => {
            setupEventListeners();
            updateStartButton();
        });
    </script>
</body>
</html>
